<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>How Movie Reccomenders Work</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />
</head>

<body>
   <div id="tour-overlay"></div>
<div id="tour-highlight"></div>

<div id="tour-box">
  <div id="tour-text"></div>
  <button id="tour-next-btn" class="tour-next-btn">Next</button>
</div>

   <button id="start-tour-btn" class="tour-start-btn">
  Start Tour
</button>

  <div class="app">

    <!-- ===================== SLIDE 1: PROFILE SCREEN (UNCHANGED) ===================== -->
    <section id="profile-screen" class="screen screen--active">
      <div class="profile-card">
       


        <div class="profile-logo">NETFLIX</div>
        <h1 class="profile-title">What are you watching?</h1>

        <div class="profile-row">

          <!-- USER RATINGS MATRIX -->
          <div class="profile-avatar">
            <div class="avatar-wrapper">
              <div class="avatar-inner">
                <div class="avatar-front" style="background-image:url('ghibli-1.jpeg');"></div>
                <div class="avatar-back">Discovers patterns in rating sparsity</div>
              </div>
            </div>
            <span>User Ratings Matrix</span>
          </div>

          <!-- SIMILARITY CALCULATOR -->
          <div class="profile-avatar">
            <div class="avatar-wrapper">
              <div class="avatar-inner">
                <div class="avatar-front" style="background-image:url('ghibli-2.jpeg');"></div>
                <div class="avatar-back">Finds relations between users or movies</div>
              </div>
            </div>
            <span>Similarity Calculations</span>
          </div>

          <!-- PREDICTION ENGINE -->
          <div class="profile-avatar">
            <div class="avatar-wrapper">
              <div class="avatar-inner">
                <div class="avatar-front" style="background-image:url('ghibli-3.jpeg');"></div>
                <div class="avatar-back">Suggests movies that similar users watched</div>
              </div>
            </div>
            <span>Collaborative Filtering</span>
          </div>

          <!-- RECOMMENDATION FILTER -->
          <div class="profile-avatar">
            <div class="avatar-wrapper">
              <div class="avatar-inner">
                <div class="avatar-front" style="background-image:url('ghibli-4.jpeg');"></div>
                <div class="avatar-back">Picks movies you would like</div>
              </div>
            </div>
            <span>Recommendation Demo</span>
          </div>

        </div>

        <button class="manage-btn" id="continue-btn">START WATCHING</button>
      </div>
    </section>

    <!-- ===================== SLIDE 2: NETFLIX HOME (HERO SLIDER) ===================== -->
    <section id="home-screen" class="screen">

      <!-- Back to accounts icon -->
      <header class="top-nav">
        <button
          id="back-to-profiles"
          class="back-icon-btn"
          aria-label="Back to accounts"
        >
          <svg class="back-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M15 5L9 12l6 7"
              fill="none"
              stroke="currentColor"
              stroke-width="2.4"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
      </header>

      <main class="home-main">

        <!-- HERO BANNER SLIDER -->
        <section class="hero-banner">
          <div class="hero-gradient"></div>

          <!-- LEFT ARROW -->
          <button class="hero-arrow hero-arrow--left" aria-label="Previous hero">
            <svg class="hero-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M15 5L9 12l6 7"
                fill="none"
                stroke="currentColor"
                stroke-width="2.4"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- RIGHT ARROW -->
          <button class="hero-arrow hero-arrow--right" aria-label="Next hero">
            <svg class="hero-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M15 5L9 12l6 7"
                fill="none"
                stroke="currentColor"
                stroke-width="2.4"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- LEFT: TITLE / DESCRIPTION / BUTTONS (RED AREA) -->
          <div class="hero-inner">
            <div class="hero-content">
              <div class="hero-tag">N SERIES</div>
              <h1 id="hero-title" class="hero-title">Money Heist</h1>

              <div id="hero-meta" class="hero-meta"></div>

              <p id="hero-description" class="hero-description"></p>

              <div class="hero-buttons">
                <button id="global-play-btn" class="btn btn--primary">
                    <span class="btn-icon">â–¶</span> Play
                </button>

                <button
                  class="btn btn--secondary"
                  id="prototype-writeup-btn">
                  Restart
                </button>
              </div>
            </div>

            <!-- RIGHT: RATINGS MATRIX HERO CONTENT (YELLOW + PURPLE AREAS) -->
            <div id="hero-matrix-panel" class="hero-matrix-panel hero-panel--hidden">
              <!-- Yellow box: the D3 heatmap -->
              <div class="matrix-heatmap-wrapper">
                <svg id="matrix-heatmap"></svg>
              </div>

              <!-- Purple box: sliders + explanatory copy -->
              <div class="matrix-controls">
                <h2 class="matrix-heading">
                  Interactive heatmap of userâ€“movie ratings.
                </h2>
                

                <label class="matrix-slider">
                  <div class="matrix-slider-header">
                    <span class="matrix-slider-label">Rating threshold</span>
                    <span id="threshold-value" class="matrix-slider-value">â‰¥ 3.0</span>
                  </div>
                  <input
                    type="range"
                    id="threshold-slider"
                    min="1"
                    max="5"
                    step="0.5"
                    value="3"
                  />
                  <small class="matrix-slider-help">
                    Slide to see only highly-rated movies. Notice how sparse the matrix becomes?
                  </small>
                </label>

                <label class="matrix-slider">
                  <div class="matrix-slider-header">
                    <span class="matrix-slider-label">Number of users shown</span>
                    <span id="usercount-value" class="matrix-slider-value">10 users</span>
                  </div>
                  <input
                    type="range"
                    id="usercount-slider"
                    min="1"
                    max="40"
                    step="1"
                    value="10"
                  />
                  <small class="matrix-slider-help">
                    As you add users, the matrix automatically adjusts to show rating patterns.
                  </small>
                </label>

                <p class="matrix-explainer">
                  How can we recommend movies to you if we barely have any data about what you like?
                  This is why collaborative filtering is cleverâ€”it uses patterns from similar users
                  to fill in the blanks.
                </p>
              </div>
            </div>
            <div id="hero-sim-panel" class="hero-panel hero-panel--hidden">
              <div class="sim-layout">
                <!-- TOP: chart + summary -->
                <section class="sim-card sim-card--chart">
                  <div class="sim-user-prefs">
                    <h4 class="sim-subheading">User preferences (sample users)</h4>
                    <ul>
                      <li><strong>User 1:</strong> comedy 10, romance 1</li>
                      <li><strong>User 474:</strong> comedy 8, romance 3</li>
                      <li><strong>User 606:</strong> comedy 2, romance 8</li>
                    </ul>
                  </div>
                  <svg id="sim-vectors" class="sim-chart"></svg>
                  <div id="sim-summary" class="sim-summary"></div>
                </section>

                
              </div>
            </div>


            <!-- ðŸ”¹ Slide 4: Venn / Jaccard panel (RIGHT SIDE ONLY) -->
            <div id="hero-panel-venn" class="hero-panel hero-panel--hidden">
              <div class="hero-widget">
                <!-- Controls -->
                
                <!-- Venn diagram container -->
                <div id="venn-4"></div>
                <div id="statusMessage-4"></div>
                <div id="controls-4">
                                  <div id="sliderRow-4">
                                    <span>Minimum rating threshold:</span>
                                    <input
                                      type="range"
                                      id="thresholdSlider-4"
                                      min="1"
                                      max="5"
                                      step="0.5"
                                      value="3"
                                    />
                                    <span>Current: <span id="thresholdValue-4">3.0</span></span>
                                  </div>
                                  
                                </div>
                <!-- Tooltip -->
                <div id="tooltip-4" class="tooltip"></div>
              </div>
            </div>
<!-- ================= SLIDE 5 PANEL (Collaborative Filtering) ================= -->
            <div id="hero-panel-5" class="hero-panel hero-panel--hidden">
              <div class="hero-widget collab-widget">
                

                

                <!-- Styled box like Slide 4 -->
                <div class="collab-box">
                  <div id="collabfilter-container"></div>
                </div>

              </div>
            </div>


                 </div> <!-- closes .hero-inner -->
        </section> <!-- closes .hero-banner -->
    <!-- closes .home-main -->



         

        <!-- ROW 1: SELECT FAVORITES -->
        <section class="row">
          <h2 class="row-title">Select your favorite movies</h2>
          <div class="row-inner">
            <button
              class="row-arrow row-arrow--left"
              data-target="row-new"
              aria-label="Scroll favorites left"
            >
              <svg class="row-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M15 5L9 12l6 7"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>

            <div id="row-new" class="row-scroller"></div>

            <button
              class="row-arrow row-arrow--right"
              data-target="row-new"
              aria-label="Scroll favorites right"
            >
              <svg class="row-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M15 5L9 12l6 7"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </section>

        <!-- ROW 2: YOU MIGHT ALSO LIKE -->
        <section class="row">
          <h2 class="row-title">You might also like</h2>
          <div class="row-inner">
            <button
              class="row-arrow row-arrow--left"
              data-target="row-trending"
              aria-label="Scroll recommendations left"
            >
              <svg class="row-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M15 5L9 12l6 7"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>

            <div id="row-trending" class="row-scroller"></div>

            <button
              class="row-arrow row-arrow--right"
              data-target="row-trending"
              aria-label="Scroll recommendations right"
            >
              <svg class="row-arrow-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M15 5L9 12l6 7"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </section>

      
    
</main> 
</section>
  </div>
      


<!-- d3 v5 (used for Venn + legacy code) -->
<script src="https://d3js.org/d3.v5.min.js"></script>

<!-- venn.js plugin -->
<script src="https://benfred.github.io/venn.js/venn.js"></script>

<!-- your main app code -->
<script src="script.js"></script>

<!-- NEW: D3 v7 ES module for collabfilter.js -->
<script type="module">
  import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
  window.d3v7 = d3; // expose for module below
</script>

<!-- collaborative-filtering animation -->
<script type="module">
  import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
  import "./collabfilter.js";
</script>




</body>
</html>
